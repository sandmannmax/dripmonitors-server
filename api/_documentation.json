{
  "paths": {
    "/user": {
      "get": {
        "description": "Get User Object",
        "parameters": [
          {
            "name": "Authentication",
            "in": "header",
            "description": "accessToken",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "User Object",
            "schema": {
              "type": "object",
              "properties": {
                "user": {
                  "$ref": "#/definitions/UserObject"
                }
              }
            }
          },
          "401": {
            "description": "Token expired | Token invalid | Token missing",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          },
          "500": {
            "description": "Unexpected Server Error",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "post": {
        "description": "Create a User",
        "parameters": [
          {
            "in": "body",
            "name": "user",
            "description": "User to Create",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UserCreate"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Created User Object",
            "schema": {
              "type": "object",
              "properties": {
                "user": {
                  "$ref": "#/definitions/UserObject"
                }
              }
            }
          },
          "400": {
            "description": "\\'username\\' is already existing | \\'mail\\' is already in use",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          },
          "500": {
            "description": "Unexpected Server Error",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "delete": {
        "description": "Delete a User",
        "parameters": [
          {
            "name": "Authentication",
            "in": "header",
            "description": "accessToken",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Deleted User",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "Token expired | Token invalid | Token missing",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          },
          "500": {
            "description": "Unexpected Server Error",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "patch": {
        "description": "Update a User",
        "parameters": [
          {
            "name": "Authentication",
            "in": "header",
            "description": "accessToken",
            "required": true,
            "type": "string"
          },
          {
            "in": "body",
            "name": "user",
            "description": "User to Update",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UserUpdate"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Updated User Object",
            "schema": {
              "type": "object",
              "properties": {
                "user": {
                  "$ref": "#/definitions/UserObject"
                }
              }
            }
          },
          "400": {
            "description": "\\'username\\' is already existing | \\'mail\\' is already in use",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "Token expired | Token invalid | Token missing",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          },
          "500": {
            "description": "Unexpected Server Error",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "description": "Login for a User",
        "parameters": [
          {
            "in": "body",
            "name": "user",
            "description": "User to Login",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UserLogin"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Login Successfull",
            "schema": {
              "type": "object",
              "properties": {
                "user": {
                  "$ref": "#/definitions/UserObject"
                },
                "accessToken": {
                  "type": "string"
                },
                "refreshToken": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "description": "\\'username\\' or \\'password\\' missing",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "Invalid credentials",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          },
          "500": {
            "description": "Unexpected Server Error",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/auth/logout": {
      "post": {
        "description": "Logout a User",
        "parameters": [
          {
            "name": "Authentication",
            "in": "header",
            "description": "accessToken",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Logout Successfull",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "Token expired | Token invalid | Token missing",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          },
          "500": {
            "description": "Unexpected Server Error",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/auth/refresh": {
      "post": {
        "description": "Get a new AccessToken",
        "parameters": [
          {
            "in": "body",
            "name": "refreshToken",
            "description": "RefreshToken",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Refresh Successfull",
            "schema": {
              "type": "object",
              "properties": {
                "accessToken": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "description": "\\'refreshToken\\' expired | \\'refreshToken\\' invalid | \\'refreshToken\\' missing",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          },
          "500": {
            "description": "Unexpected Server Error",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/monitor": {
      "get": {
        "description": "Get the User specific Monitor Object",
        "parameters": [
          {
            "name": "Authentication",
            "in": "header",
            "description": "accessToken",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Monitor Object",
            "schema": {
              "type": "object",
              "properties": {
                "monitor": {
                  "$ref": "#/definitions/MonitorObject"
                }
              }
            }
          },
          "401": {
            "description": "Token expired | Token invalid | Token missing",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Object is not existing",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          },
          "500": {
            "description": "Unexpected Server Error",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "patch": {
        "description": "Update the User specific Monitor Object",
        "parameters": [
          {
            "name": "Authentication",
            "in": "header",
            "description": "accessToken",
            "required": true,
            "type": "string"
          },
          {
            "in": "body",
            "name": "monitor",
            "description": "Monitor to Update",
            "required": true,
            "schema": {
              "$ref": "#/definitions/monitor"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Updated User Object",
            "schema": {
              "type": "object",
              "properties": {
                "monitor": {
                  "$ref": "#/definitions/MonitorObject"
                }
              }
            }
          },
          "400": {
            "description": "No property of \\'webHook\\', \\'name\\' or \\'imageUrl\\' given",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "Token expired | Token invalid | Token missing",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Object is not existing",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          },
          "500": {
            "description": "Unexpected Server Error",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/monitor/testmessage": {
      "post": {
        "description": "Send Testmessage to Webhook for Monitor",
        "parameters": [
          {
            "name": "Authentication",
            "in": "header",
            "description": "accessToken",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Message sent",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "Token expired | Token invalid | Token missing",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Monitor Webhook is not configured",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          },
          "500": {
            "description": "Unexpected Server Error",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/monitor/betaaccess": {
      "post": {
        "description": "Requesting Access for Beta-Testing",
        "parameters": [
          {
            "name": "e-mail",
            "in": "body",
            "description": "e-mail",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Request sent successfully",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          },
          "404a": {
            "description": "E-Mail already requested Beta-Testing-Access",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          },
          "404b": {
            "description": "E-Mail missing",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          },
          "500": {
            "description": "Unexpected Server Error",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string"
                }
              }
            }
          }
        }
      }  
    }
  },
  "definitions": {
    "UserObject": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string"
        },
        "username": {
          "type": "string"
        },
        "mail": {
          "type": "string"
        }
      }
    },
    "UserLogin": {
      "type": "object",
      "required": [
        "password",
        "username"
      ],
      "properties": {
        "username": {
          "type": "string"
        },
        "password": {
          "type": "string"
        }
      }
    },
    "UserCreate": {
      "type": "object",
      "required": [
        "activationCode",
        "mail",
        "password",
        "username"
      ],
      "properties": {
        "activationCode": {
          "type": "string"
        },
        "username": {
          "type": "string"
        },
        "mail": {
          "type": "string"
        },
        "password": {
          "type": "string"
        }
      }
    },
    "UserUpdate": {
      "type": "object",
      "required": [
        "oldPassword"
      ],
      "properties": {
        "username": {
          "type": "string"
        },
        "mail": {
          "type": "string"
        },
        "password": {
          "type": "string"
        },
        "oldPassword": {
          "type": "string"
        }
      }
    },
    "MonitorObject": {
      "type": "object",
      "properties": {
        "webHook": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "imageUrl": {
          "type": "string"
        }
      }
    }
  }
}